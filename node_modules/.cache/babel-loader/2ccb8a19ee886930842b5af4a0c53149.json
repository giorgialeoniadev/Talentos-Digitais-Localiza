{"ast":null,"code":"import _toConsumableArray from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/giorgia/Trybe/Talentos-Digitais-Localiza/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import MovieList from'./MovieList';import SearchBar from'./SearchBar';import AddMovie from'./AddMovie';var MovieLibrary=/*#__PURE__*/function(_Component){_inherits(MovieLibrary,_Component);function MovieLibrary(props){var _this;_classCallCheck(this,MovieLibrary);_this=_possibleConstructorReturn(this,_getPrototypeOf(MovieLibrary).call(this,props));var movies=_this.props.movies;_this.setSearchedText=_this.setSearchedText.bind(_assertThisInitialized(_this));_this.setBookMarkedOnly=_this.setBookMarkedOnly.bind(_assertThisInitialized(_this));_this.setSelectedGenre=_this.setSelectedGenre.bind(_assertThisInitialized(_this));_this.onClickAddMovie=_this.onClickAddMovie.bind(_assertThisInitialized(_this));_this.state={searchText:'',bookmarkedOnly:false,selectedGenre:'',movies:movies};return _this;}// eslint-disable-next-line class-methods-use-this\n_createClass(MovieLibrary,[{key:\"onClickAddMovie\",value:function onClickAddMovie(newMovie){var movies=this.state.movies;this.setState({movies:[].concat(_toConsumableArray(movies),[newMovie])});}},{key:\"setSearchedText\",value:function setSearchedText(event){this.setState({searchText:event.target.value});}},{key:\"setBookMarkedOnly\",value:function setBookMarkedOnly(event){this.setState({bookmarkedOnly:event.target.checked});}},{key:\"setSelectedGenre\",value:function setSelectedGenre(event){this.setState({selectedGenre:event.target.value});}},{key:\"filterBookMarkedMovies\",value:function filterBookMarkedMovies(movies){var bookmarkedOnly=this.state.bookmarkedOnly;if(bookmarkedOnly===true){return movies.filter(function(movie){return movie.bookmarked===true;});}return movies;}},{key:\"filterByGenre\",value:function filterByGenre(movies){var selectedGenre=this.state.selectedGenre;if(selectedGenre!==''){return movies.filter(function(movie){return movie.genre===selectedGenre;});}return movies;}},{key:\"filterBySearch\",value:function filterBySearch(movies){var searchText=this.state.searchText;var lowerCaseSearchText=searchText.toLowerCase();if(searchText!==''){return movies.filter(function(movie){var title=movie.title,subtitle=movie.subtitle,storyline=movie.storyline;var lowerCaseTitle=title.toLowerCase();var lowerCaseSubtitle=subtitle.toLowerCase();var lowerCaseStoryline=storyline.toLowerCase();return lowerCaseTitle.includes(lowerCaseSearchText)||lowerCaseSubtitle.includes(lowerCaseSearchText)||lowerCaseStoryline.includes(lowerCaseSearchText);});}return movies;}},{key:\"filterMovies\",value:function filterMovies(movies){var bookmarkedMovies=this.filterBookMarkedMovies(movies);var genrefied=this.filterByGenre(bookmarkedMovies);var searched=this.filterBySearch(genrefied);return searched;}},{key:\"render\",value:function render(){var _this$state=this.state,searchText=_this$state.searchText,bookmarkedOnly=_this$state.bookmarkedOnly,selectedGenre=_this$state.selectedGenre,movies=_this$state.movies;var filteredMovies=this.filterMovies(movies);return React.createElement(\"section\",null,React.createElement(\"h2\",null,\" My awesome movie library \"),React.createElement(SearchBar,{searchText:searchText,onSearchTextChange:this.setSearchedText,bookmarkedOnly:bookmarkedOnly,onBookmarkedChange:this.setBookMarkedOnly,selectedGenre:selectedGenre,onSelectedGenreChange:this.setSelectedGenre}),React.createElement(MovieList,{movies:filteredMovies}),React.createElement(AddMovie,{onClick:this.onClickAddMovie}));}}]);return MovieLibrary;}(Component);export default MovieLibrary;","map":{"version":3,"sources":["/Users/giorgia/Trybe/Talentos-Digitais-Localiza/src/components/MovieLibrary.jsx"],"names":["React","Component","MovieList","SearchBar","AddMovie","MovieLibrary","props","movies","setSearchedText","bind","setBookMarkedOnly","setSelectedGenre","onClickAddMovie","state","searchText","bookmarkedOnly","selectedGenre","newMovie","setState","event","target","value","checked","filter","movie","bookmarked","genre","lowerCaseSearchText","toLowerCase","title","subtitle","storyline","lowerCaseTitle","lowerCaseSubtitle","lowerCaseStoryline","includes","bookmarkedMovies","filterBookMarkedMovies","genrefied","filterByGenre","searched","filterBySearch","filteredMovies","filterMovies"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport MovieList from './MovieList';\nimport SearchBar from './SearchBar';\nimport AddMovie from './AddMovie';\n\nclass MovieLibrary extends Component {\n  constructor(props) {\n    super(props);\n\n    const { movies } = this.props;\n    this.setSearchedText = this.setSearchedText.bind(this);\n    this.setBookMarkedOnly = this.setBookMarkedOnly.bind(this);\n    this.setSelectedGenre = this.setSelectedGenre.bind(this);\n    this.onClickAddMovie = this.onClickAddMovie.bind(this);\n\n    this.state = {\n      searchText: '',\n      bookmarkedOnly: false,\n      selectedGenre: '',\n      movies,\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onClickAddMovie(newMovie) {\n    const { movies } = this.state;\n    this.setState({ movies: [...movies, newMovie] });\n  }\n\n  setSearchedText(event) {\n    this.setState({ searchText: event.target.value });\n  }\n\n  setBookMarkedOnly(event) {\n    this.setState({ bookmarkedOnly: event.target.checked });\n  }\n\n  setSelectedGenre(event) {\n    this.setState({ selectedGenre: event.target.value });\n  }\n\n  filterBookMarkedMovies(movies) {\n    const { bookmarkedOnly } = this.state;\n    if (bookmarkedOnly === true) {\n      return movies.filter((movie) => movie.bookmarked === true);\n    }\n    return movies;\n  }\n\n  filterByGenre(movies) {\n    const { selectedGenre } = this.state;\n    if (selectedGenre !== '') {\n      return movies.filter((movie) => movie.genre === selectedGenre);\n    }\n    return movies;\n  }\n\n  filterBySearch(movies) {\n    const { searchText } = this.state;\n    const lowerCaseSearchText = searchText.toLowerCase();\n    if (searchText !== '') {\n      return movies.filter((movie) => {\n        const { title, subtitle, storyline } = movie;\n        const lowerCaseTitle = title.toLowerCase();\n        const lowerCaseSubtitle = subtitle.toLowerCase();\n        const lowerCaseStoryline = storyline.toLowerCase();\n\n        return lowerCaseTitle.includes(lowerCaseSearchText)\n          || lowerCaseSubtitle.includes(lowerCaseSearchText)\n          || lowerCaseStoryline.includes(lowerCaseSearchText);\n      });\n    }\n    return movies;\n  }\n\n  filterMovies(movies) {\n    const bookmarkedMovies = this.filterBookMarkedMovies(movies);\n    const genrefied = this.filterByGenre(bookmarkedMovies);\n    const searched = this.filterBySearch(genrefied);\n\n    return searched;\n  }\n\n  render() {\n    const { searchText, bookmarkedOnly, selectedGenre, movies } = this.state;\n    const filteredMovies = this.filterMovies(movies);\n    return (\n      <section>\n        <h2> My awesome movie library </h2>\n        <SearchBar\n          searchText={searchText}\n          onSearchTextChange={this.setSearchedText}\n          bookmarkedOnly={bookmarkedOnly}\n          onBookmarkedChange={this.setBookMarkedOnly}\n          selectedGenre={selectedGenre}\n          onSelectedGenreChange={this.setSelectedGenre}\n        />\n        <MovieList movies={filteredMovies} />\n        <AddMovie onClick={this.onClickAddMovie} />\n      </section>\n    );\n  }\n}\n\nexport default MovieLibrary;\n"]},"metadata":{},"sourceType":"module"}